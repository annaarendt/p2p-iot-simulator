################### Settings ======================
debug.config true
MAX_RANGE 150

simulation.cycles 15
battery_failure_probability 50
network.size 100
map_size 1000
random.seed 1234567890


################### initialization ======================

init.0 example.update.EnergyInitializer
init.0.protocol energy

init.1 example.update.InetInitializer
init.1.protocol localisation
init.1.max_node_speed 60
init.1.min_node_speed 10


################### protocols ===========================

protocol.link IdleProtocol

protocol.energy example.update.SimpleEnergy

protocol.localisation example.update.NodeCoordinates

protocol.announce example.update.Announce
protocol.announce.coord_protocol localisation
protocol.announce.energy_protocol energy
protocol.announce.max_distance MAX_RANGE


################ controls ==============================

control.nodemover example.update.NodeMover
control.nodemover.coord_protocol localisation
control.nodemover.map_size map_size

control.switcher example.update.EnergySwitcher
control.switcher.energy_protocol energy
control.switcher.energy_switching_probability battery_failure_probability


################ Observers ==============================

control.coordObserver example.update.InetObserver
control.coordObserver.coord_protocol localisation

control.neighobserver example.update.NeighborsObservers
control.neighobserver.neigbors_protocol announce

control.energyobserver example.update.SimpleEnergyObserver
control.energyobserver.energy_protocol energy


################ Order & timings ==============================
order.protocol link,energy,localisation,announce
order.control coordObserver,energyobserver,neighobserver,nodemover,switcher

# Observers should be run once more at the end
control.neighobserver.FINAL true
control.energyobserver.FINAL true
control.coordObserver.FINAL true

# Observers should not run at first cycle (protocols have not been run yet)
control.neighobserver.from 2
control.energyobserver.from 2
control.coordObserver.from 2