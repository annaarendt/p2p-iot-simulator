################### Settings ======================
#debug.config
MAX_RANGE 400

OBERVERS_CYCLE 50
PROTOCOL_CYCLE 20
CONTROL_CYCLE 50

network.size 5
map_size 1000
random.seed 1234567890

simulation.endtime 1000
simulation.logtime 50


################### initialization ======================

init.0 example.update.initialisation.EnergyInitializer
init.0.protocol energy

init.1 example.update.initialisation.InetInitializer
init.1.protocol localisation
init.1.max_node_speed 60
init.1.min_node_speed 10

init.2 example.update.initialisation.GossipInitializer
init.2.gossip_protocol gossip
init.2.network_protocol p2p_net_agent
init.2.file_size 250


################### protocols ===========================

protocol.link IdleProtocol

protocol.energy example.update.SimpleEnergy

protocol.localisation example.update.NodeCoordinates

protocol.neighbor example.update.NeighborhoodMaintainer
protocol.neighbor.coord_protocol localisation
protocol.neighbor.energy_protocol energy
protocol.neighbor.max_distance MAX_RANGE
protocol.neighbor.transport tr
protocol.neighbor.step PROTOCOL_CYCLE

init.sch1 CDScheduler
init.sch1.protocol neighbor

protocol.gossip example.update.Gossiper
protocol.gossip.neighbors_protocol neighbor
protocol.gossip.supervisor_protocol supervisor
protocol.gossip.transport tr

protocol.tr UniformRandomTransport
protocol.tr.mindelay 0
protocol.tr.maxdelay 1

init.sch2 CDScheduler
init.sch2.protocol supervisor

protocol.supervisor example.update.NaiveScheduler
protocol.supervisor.networking_protocol p2p_net_agent
protocol.supervisor.gossip_protocol gossip
protocol.supervisor.bandwidth 25
protocol.supervisor.disk_space 1000
protocol.supervisor.transport tr
protocol.supervisor.step PROTOCOL_CYCLE


init.sch3 CDScheduler
init.sch3.protocol p2p_net_agent

protocol.p2p_net_agent example.update.NetworkAgent
protocol.p2p_net_agent.neighborhood_protocol neighbor
protocol.p2p_net_agent.bandwidth 4
protocol.p2p_net_agent.piece_size 50
protocol.p2p_net_agent.transport tr
protocol.p2p_net_agent.step PROTOCOL_CYCLE


################ controls ==============================



################ Observers ==============================


control.dlProgress example.update.observation.netAgentObserver
control.dlProgress.protocol p2p_net_agent
control.dlProgress.step OBERVERS_CYCLE

control.coordObserver example.update.observation.InetObserver
control.coordObserver.coord_protocol localisation
control.coordObserver.step OBERVERS_CYCLE

control.neighobserver example.update.observation.NeighborsObservers
control.neighobserver.neigbors_protocol neighbor
control.neighobserver.step OBERVERS_CYCLE

################ Order & timings ==============================

order.protocol link,tr,energy,localisation,neighbor,gossip,supervisor,p2p_net_agent
order.control coordObserver,neighobserver,dlProgress


# Observers should be run once more at the end
control.schedulerCounter.FINAL true
control.dlProgress.FINAL true

# Observers should not run at first cycle (protocols have not been run yet)
control.dbObserver.from 2
control.dlProgress.from 2
